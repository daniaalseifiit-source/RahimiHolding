# Security headers - tune as necessary
<IfModule mod_headers.c>
  # HSTS: only enable if your site is served exclusively via HTTPS
  Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"

  # Prevent clickjacking
  Header always set X-Frame-Options "SAMEORIGIN"

  # Prevent MIME type sniffing
  Header always set X-Content-Type-Options "nosniff"

  # Referrer policy
  Header always set Referrer-Policy "strict-origin-when-cross-origin"

  # Permissions policy (formerly Feature-Policy)
  Header always set Permissions-Policy "geolocation=(), camera=(), microphone=()"

  # XSS protection (legacy, harmless if unsupported)
  Header always set X-XSS-Protection "1; mode=block"

  # Basic Content-Security-Policy - restrict where resources can be loaded from
  # Note: this is conservative; modify to suit external integrations (maps, analytics, CDN)
  Header always set Content-Security-Policy "default-src 'self' https: data: 'unsafe-inline'; img-src 'self' data: https:; script-src 'self' https: 'unsafe-inline' 'unsafe-eval'; style-src 'self' https: 'unsafe-inline'"
</IfModule>

# SPA rewrite rules
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
</IfModule>
